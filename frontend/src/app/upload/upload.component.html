<div class="max-w-2xl mx-auto p-6 bg-white rounded-lg shadow-lg border-2 border-dashed border-blue-300">
  <div class="text-center mb-6">
    <label for="file-input" class="block text-lg font-semibold text-gray-700 mb-3">
      Choose Audio File (MP3, WAV, M4A, FLAC, OGG)
    </label>
    <input 
      id="file-input"
      type="file" 
      accept="audio/*,.mp3,.wav,.m4a,.flac,.ogg" 
      (change)="onFileSelected($event)" 
      [disabled]="uploading"
      class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 disabled:opacity-50"
      #fileInput />
  </div>

  <div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4" *ngIf="errorMessage">
    <p class="flex items-center">
      <span class="mr-2">‚ùå</span>
      {{ errorMessage }}
    </p>
  </div>

  <div class="bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded mb-4" *ngIf="selectedFile && !errorMessage">
    <p class="flex items-center">
      <span class="mr-2">‚úÖ</span>
      Selected: {{ selectedFile.name }} ({{ formatFileSize(selectedFile.size) }})
    </p>
  </div>

  <div class="bg-blue-50 border border-blue-200 text-blue-700 px-4 py-3 rounded mb-4" *ngIf="uploading">
    <p class="flex items-center">
      <span class="mr-2 animate-pulse">üì§</span>
      Uploading file...
    </p>
  </div>

  <div class="bg-yellow-50 border border-yellow-200 text-yellow-800 px-4 py-3 rounded" *ngIf="taskId && !uploading">
    <p class="flex items-center mb-2">
      <span class="mr-2">üéµ</span>
      Processing audio...
    </p>
    <p class="mb-3 font-semibold">Progress: {{progress}}%</p>
    <div class="bg-gray-200 rounded-full h-2.5 mb-4">
      <div class="bg-blue-600 h-2.5 rounded-full transition-all duration-300" [style.width.%]="progress"></div>
    </div>
    <button 
      (click)="pollStatus()" 
      class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition-colors duration-200">
      Refresh Progress
    </button>
  </div>
</div>
